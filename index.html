<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ูุญุชุฑู ุงูุชุตููู</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- ุดุงุดุฉ ุงูุชุฑุญูุจ -->
  <div id="welcomeScreen" class="welcome" aria-hidden="false">
    <div class="welcome-card">
      <h1>๐จ ุฃููุงู ุจู ูู <span>ูุญุชุฑู ุงูุชุตููู</span></h1>
      <p>ุงุจุฏุฃ ุจุงูุชุดุงู ุฃูุณุงูู ูุชุตุงูููู ุจุณูููุฉ.</p>
      <div class="welcome-actions">
        <button id="startBtn" class="btn primary">ุงุจุฏุฃ</button>
        <button id="skipBtn" class="btn secondary">ุชุฎุทู</button>
      </div>
    </div>
  </div>

  <!-- ุงูุดุฑูุท ุงูุนููู -->
  <header class="topbar" role="banner">
    <div class="left">
      <button id="toggleSidebar" class="icon-btn" aria-label="ูุงุฆูุฉ">๐</button>
      <h1 class="logo">ูุญุชุฑู ุงูุชุตููู</h1>
    </div>
    <div class="right">
      <button id="adminBtn" class="icon-btn" aria-label="ููุญุฉ ุงูุชุญูู">โ๏ธ</button>
    </div>
  </header>

  <!-- ุดุฑูุท ุงูุจุญุซ -->
  <section class="search-section" id="searchSection">
    <input id="searchInput" placeholder="ุงุจุญุซ ุนู ูุณู ุฃู ููู... ๐" />
  </section>

  <div class="app">
    <!-- sidebar -->
    <aside id="sidebar" class="sidebar" aria-hidden="true">
      <button id="closeSidebarBtn" class="close-sidebar" aria-label="ุฅุบูุงู">โ</button>
      <h3>ุงูุฃูุณุงู</h3>
      <ul id="sectionsList"></ul>
    </aside>

    <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
    <main id="main" class="main" data-current-section="">
      <p class="placeholder">ุงุฎุชุฑ ูุณูุงู ูู ุงููุงุฆูุฉ ุฃู ุฃุถู ุฌุฏูุฏุงู ูู ููุญุฉ ุงูุชุญูู โจ</p>

      <!-- fonts & decor wrapper (appended on demand / already in DOM but hidden) -->
      <section id="fontsWrapper" style="display:none;">
        <!-- ุงููุตู ุงูุฃูู: ุงูุฎุทูุท ุงูุนุฑุจูุฉ -->
        <div class="card section-card" id="arabicFontsCard" aria-hidden="true">
          <h2 class="section-title">ุงูุฎุทูุท ุงูุนุฑุจูุฉ</h2>
          <div class="section-body">
            <label>ุงุฎุชุฑ ุฎุทุงู:</label>
            <select id="arabicFontSelect"></select>

            <label>ุฃุฏุฎู ุงููุต ูุชุฌุฑุจุชู:</label>
            <input id="arabicFontName" placeholder="ุฃุฏุฎู ุงูุงุณู ุฃู ุงููุต..." />

            <div class="row">
              <div>
                <label>ููู ุงูุฎุท</label>
                <input id="arabicColor" type="color" value="#000000" />
              </div>
              <div>
                <label>ุฃู ุงุฎุชุฑ ุชุฏุฑุฌ (ุจุณูุท)</label>
                <input id="arabicGradientStart" type="color" value="#000000" />
                <input id="arabicGradientEnd" type="color" value="#555555" />
              </div>
            </div>

            <label>ุงููุนุงููุฉ (ูููู ุชูุฒูููุง ูุตูุฑุฉ ุดูุงูุฉ):</label>
            <div id="arabicPreview" class="preview-box" role="img" aria-live="polite">ุณุชุธูุฑ ุงููุนุงููุฉ ููุง</div>

            <div class="row actions-row">
              <button id="arabicDownloadPreviewBtn" class="btn primary">๐ผ๏ธ ุชูุฒูู ุตูุฑุฉ</button>
              <a id="arabicDownloadFont" class="btn secondary" download>โฌ๏ธ ุชุญููู ุงูุฎุท</a>
            </div>
          </div>
        </div>

        <!-- ุงููุตู ุงูุซุงูู: ุฒุฎุฑูุฉ ุงูุฃุณูุงุก -->
        <div class="card section-card" id="nameDecorCard" aria-hidden="true">
          <h2 class="section-title">ุฒุฎุฑูุฉ ุงูุฃุณูุงุก</h2>
          <div class="section-body">
            <label>ุงุฎุชุฑ ุณุชุงูู ุฒุฎุฑูุฉ:</label>
            <select id="decorStyleSelect"></select>

            <label>ุฃุฏุฎู ุงูุงุณู ูุชุฌุฑุจุชู:</label>
            <input id="decorNameInput" placeholder="ุฃุฏุฎู ุงูุงุณู..." />

            <label>ุงููุนุงููุฉ (ุงุถุบุท ุทููู ูููุณุฎ ุฃู ุงุณุชุฎุฏู ุฒุฑ ุงููุณุฎ):</label>
            <div id="decorPreview" class="preview-box" role="img" aria-live="polite">ุณุชุธูุฑ ุงููุชูุฌุฉ ููุง</div>

            <div class="row actions-row">
              <button id="decorCopyBtn" class="btn">๐ ูุณุฎ ุงููุต</button>
              <button id="decorDownloadBtn" class="btn primary">๐ผ๏ธ ุชูุฒูู ูุตูุฑุฉ</button>
            </div>

            <div style="margin-top:10px;">
              <p class="theme-preview">ุฃุถู ุณุชุงููุงุช ุฒุฎุฑูุฉ ูู ููุญุฉ ุงูุชุญูู โ ุงููุงุฆูุฉ ุงูุชุฑุงุถูุฉ ูุงุฑุบุฉ ููุง ุทูุจุช.</p>
            </div>
          </div>
        </div>
      </section>

    </main>
  </div>

  <!-- viewer modal -->
  <div id="viewer" class="modal" aria-hidden="true">
    <div class="modal-card">
      <button id="closeViewer" class="close" aria-label="ุฅุบูุงู">โ</button>
      <h2 id="viewerTitle"></h2>
      <div id="viewerBody"></div>
      <div class="modal-actions">
        <button id="downloadBtn" class="btn primary">โฌ๏ธ ุชุญููู</button>
        <button id="copyBtn" class="btn secondary">๐ ูุณุฎ ุงูุฑุงุจุท</button>
      </div>
    </div>
  </div>

  <!-- login modal (admin auth) -->
  <div id="loginModal" class="modal" aria-hidden="true">
    <div class="modal-card small">
      <button id="closeLogin" class="close" aria-label="ุฅุบูุงู">โ</button>
      <h2>๐ ุชุณุฌูู ุงูุฏุฎูู</h2>
      <input id="adminPassword" type="password" placeholder="ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ" />
      <p id="loginError" class="error"></p>
      <div class="modal-actions">
        <button id="loginBtn" class="btn primary">ุฏุฎูู</button>
      </div>
    </div>
  </div>

  <!-- admin modal (ููุญุฉ ุงูุชุญูู) - side panel -->
  <div id="adminModal" class="modal modern-admin" aria-hidden="true">
    <div class="modal-card lg" role="dialog" aria-modal="true" aria-label="ููุญุฉ ุงูุชุญูู">
      <button id="closeAdmin" class="close" aria-label="ุฅุบูุงู">โ</button>
      <h2 class="panel-title">โ๏ธ ููุญุฉ ุงูุชุญูู</h2>

      <!-- ุฅุฏุงุฑุฉ ุงูุฃูุณุงู -->
      <section class="admin-row">
        <div>
          <h4>ุฅุถุงูุฉ ูุณู</h4>
          <input id="newSectionName" placeholder="ุงุณู ุงููุณู ุงูุฌุฏูุฏ" />
          <button id="addSectionBtn" class="btn primary">โ ุฅุถุงูุฉ ูุณู</button>
        </div>

        <div>
          <h4>ุฅุฏุงุฑุฉ ุงูุฃูุณุงู</h4>
          <select id="editSectionSelect"></select>
          <input id="renameSectionInput" placeholder="ุงุณู ุฌุฏูุฏ" />
          <button id="renameSectionBtn" class="btn">โ๏ธ ุฅุนุงุฏุฉ ุชุณููุฉ</button>
          <button id="deleteSectionBtn" class="btn danger">๐ ุญุฐู ุงููุณู</button>
        </div>
      </section>

      <hr />

      <!-- ูููุงุช ุงููุณู -->
      <section class="admin-row">
        <div>
          <h4>ุฅุถุงูุฉ ููู / ุตูุฑุฉ</h4>
          <select id="fileSectionSelect"></select>
          <input id="fileNameInput" placeholder="ุงุณู ุงูููู" />
          <input id="fileUrlInput" placeholder="ุฑุงุจุท ุงูููู (ุงุฎุชูุงุฑู)" />
          <input id="fileUploadInput" type="file" accept="image/*,application/*" multiple />
          <div style="margin-top:8px;display:flex;gap:8px;">
            <button id="saveFileBtn" class="btn primary">๐พ ุญูุธ ุงูููู(ูุงุช)</button>
            <button id="clearUploads" class="btn">ูุณุญ ุงููููุงุช ุงููุญุฏุฏุฉ</button>
          </div>
          <div class="files-list" id="sectionFilesList" aria-live="polite"></div>
        </div>

        <div>
          <h4>ุชุตููุฉ / ุชุนุฏูู ูููุงุช</h4>
          <select id="fileSectionFilter"></select>
          <select id="fileEditSelect"></select>
          <input id="editFileName" placeholder="ุงุณู ุฌุฏูุฏ ููููู" />
          <div style="display:flex;gap:8px;margin-top:8px;">
            <button id="renameFileBtn" class="btn">โ๏ธ ุฅุนุงุฏุฉ ุชุณููุฉ</button>
            <button id="deleteFileBtn" class="btn danger">๐ ุญุฐู ููู</button>
          </div>
        </div>
      </section>

      <hr />

      <!-- ุฎุทูุท ูุฒุฎุฑูุฉ - ุฅุฏุงุฑุฉ ุงูุฎุทูุท ุงูุนุฑุจูุฉ -->
      <section class="admin-row" id="fontsAdminSection">
        <div>
          <h4>ุฅุฏุงุฑุฉ ุงูุฎุทูุท ุงูุนุฑุจูุฉ</h4>
          <input id="fontNameInput" placeholder="ุงุณู ุงูุฎุท (ูุซูุงู: ุฎุท ุงูุฑูุนุฉ)" />
          <input id="fontFileInput" type="file" accept=".ttf,.otf,.woff,.woff2" />
          <div style="display:flex;gap:8px;margin-top:8px;">
            <button id="addFontBtn" class="btn primary">โ ุฅุถุงูุฉ ุฎุท</button>
            <button id="clearFontsBtn" class="btn">ูุณุญ ูู ุงูุฎุทูุท (ูุญูู)</button>
          </div>
          <div class="files-list" id="fontsAdminList"></div>
        </div>

        <div>
          <h4>ุฅุฏุงุฑุฉ ุณุชุงููุงุช ุฒุฎุฑูุฉ ุงูุฃุณูุงุก</h4>
          <input id="decorNameInputAdmin" placeholder="ุงุณู ุงูุณุชุงูู (ูุซูุงู: ุฒุฎุฑูุฉ 1)" />
          <input id="decorTemplateInput" placeholder="ูุงูุจ ุจุณูุท (ูุซูุงู: wrap:โ,โ ุฃู interleave:โฆ)" />
          <div style="display:flex;gap:8px;margin-top:8px;">
            <button id="addDecorBtn" class="btn primary">โ ุฅุถุงูุฉ ุณุชุงูู</button>
            <button id="clearDecorsBtn" class="btn">ูุณุญ ูู ุงูุณุชุงููุงุช</button>
          </div>
          <div class="files-list" id="decorAdminList"></div>
        </div>
      </section>

      <hr />

      <!-- ุซูู ูุฃููุงู -->
      <section class="admin-row">
        <div>
          <h4>ุฃููุงู ุงููููุน (ูุญุณู)</h4>
          <label>ููู ุงูููุฏุฑ</label>
          <input id="headerColor" type="color" />
          <label>ููู ุงููุต</label>
          <input id="textColor" type="color" />
          <label>ููู ุงูุฎูููุฉ</label>
          <input id="bgColor" type="color" />
          <div style="margin-top:8px;">
            <label>ุชุฏุฑุฌ ููุฎูููุฉ (ุงุฎุชูุงุฑู)</label>
            <input id="bgGradStart" type="color" />
            <input id="bgGradEnd" type="color" />
          </div>
          <button id="saveColors" class="btn primary" style="margin-top:8px;">ุญูุธ ุงูุฃููุงู</button>
        </div>

        <div>
          <h4>ุฎูููุฉ ุงูุตูุญุฉ</h4>
          <input id="bgImageUrl" placeholder="ุฑุงุจุท ุตูุฑุฉ ุงูุฎูููุฉ (ุงุฎุชูุงุฑู)" />
          <input id="bgImageUpload" type="file" accept="image/*" />
          <div style="display:flex;gap:8px;margin-top:8px;">
            <button id="saveBgImage" class="btn">ุชุนููู ุงูุฎูููุฉ</button>
            <button id="clearBgImage" class="btn">ูุณุญ ุงูุฎูููุฉ</button>
          </div>
        </div>
      </section>

      <hr />

      <!-- ุชุบููุฑ ูููุฉ ุงููุฑูุฑ -->
      <section class="admin-row">
        <div style="width:100%">
          <h4>ุชุบููุฑ ูููุฉ ูุฑูุฑ ููุญุฉ ุงูุชุญูู</h4>
          <input id="oldPasswordInput" type="password" placeholder="ูููุฉ ุงููุฑูุฑ ุงูุญุงููุฉ" />
          <input id="newPasswordInput" type="password" placeholder="ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ" />
          <input id="confirmNewPasswordInput" type="password" placeholder="ุชุฃููุฏ ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ" />
          <button id="changePasswordBtn" class="btn primary" style="margin-top:8px;">ุชุบููุฑ ูููุฉ ุงููุฑูุฑ</button>
          <p id="changePasswordMsg" class="error"></p>
        </div>
      </section>

    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>